<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<w:document xmlns:wpc="http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp14="http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:w14="http://schemas.microsoft.com/office/word/2010/wordml" xmlns:w15="http://schemas.microsoft.com/office/word/2012/wordml" xmlns:wpg="http://schemas.microsoft.com/office/word/2010/wordprocessingGroup" xmlns:wpi="http://schemas.microsoft.com/office/word/2010/wordprocessingInk" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml" xmlns:wps="http://schemas.microsoft.com/office/word/2010/wordprocessingShape" mc:Ignorable="w14 w15 wp14"><w:body><w:p w:rsidR="0030024C" w:rsidRDefault="003541D0" w:rsidP="003541D0"><w:r><w:t>Lab 1 Solution:</w:t></w:r></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0" w:rsidP="003541D0"><w:r><w:t>1.</w:t></w:r></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0" w:rsidP="003541D0"><w:pPr><w:pStyle w:val="HTMLPreformatted"/><w:shd w:val="clear" w:color="auto" w:fill="131314"/><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">public class </w:t></w:r><w:r><w:rPr><w:color w:val="FFFFFF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>ASingleton</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>{</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">    </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">private static </w:t></w:r><w:r><w:rPr><w:color w:val="FFFFFF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">ASingleton </w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">uniqueClass </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">= </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>null</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>;</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">    </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">private static </w:t></w:r><w:r><w:rPr><w:color w:val="FFFFFF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">Object </w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">lock </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">= </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">new </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>Object()</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>;</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">    </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">public static </w:t></w:r><w:r><w:rPr><w:color w:val="FFFFFF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">ASingleton </w:t></w:r><w:r><w:rPr><w:color w:val="FFCF40"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>getInstance</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(){</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">        </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>if</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(</w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">uniqueClass </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">== </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>null</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>){</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">            </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">synchronized </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(</w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>lock</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>){</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">                </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>if</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(</w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">uniqueClass </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">== </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>null</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>){</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">                    </w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">uniqueClass </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">= </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">new </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>ASingleton()</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>;</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">                </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>}</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">            }</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">        }</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">        </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">return </w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>uniqueClass</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>;</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">    </w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>}</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t>}</w:t></w:r></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0" w:rsidP="003541D0"/><w:p w:rsidR="0030024C" w:rsidRDefault="0030024C"><w:r><w:t xml:space="preserve">I use </w:t></w:r><w:r w:rsidRPr="003541D0"><w:rPr><w:b/></w:rPr><w:t>double check lock</w:t></w:r><w:r><w:t xml:space="preserve"> to create singleton with thread safe. I check null for uniqueClass</w:t></w:r><w:r w:rsidR="003541D0"><w:t xml:space="preserve"> variable</w:t></w:r><w:r><w:t xml:space="preserve"> two t</w:t></w:r><w:r w:rsidR="006C333C"><w:t>imes to make sure it only ins</w:t></w:r><w:r><w:t>t</w:t></w:r><w:r w:rsidR="006C333C"><w:t>ant</w:t></w:r><w:r><w:t xml:space="preserve">iate uniqueClass when </w:t></w:r><w:r w:rsidR="006C333C"><w:t>it is null and  synch</w:t></w:r><w:r><w:t xml:space="preserve">ronized keyword to make source code in that block runs only in one thread at the same time. It creates thread safe. </w:t></w:r></w:p><w:p w:rsidR="006C333C" w:rsidRDefault="003541D0"><w:r><w:t>2.</w:t></w:r></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0"><w:r><w:t>There is a simpler way to implement singleton with enum</w:t></w:r><w:r w:rsidR="006C333C"><w:t xml:space="preserve">. Java enum value is instantiated </w:t></w:r><w:r w:rsidR="0077405A"><w:t>only once in Java Program.</w:t></w:r><w:bookmarkStart w:id="0" w:name="_GoBack"/><w:bookmarkEnd w:id="0"/></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0" w:rsidP="003541D0"><w:pPr><w:pStyle w:val="HTMLPreformatted"/><w:shd w:val="clear" w:color="auto" w:fill="131314"/><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">public enum </w:t></w:r><w:r><w:rPr><w:color w:val="FFFFFF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>enumSingleton</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>{</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">    </w:t></w:r><w:r><w:rPr><w:i/><w:iCs/><w:color w:val="ED94FF"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>INSTANCE</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>;</w:t></w:r><w:r><w:rPr><w:b/><w:bCs/><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">     </w:t></w:r><w:r><w:rPr><w:color w:val="FFCF40"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>enumSingleton</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(){}</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">     </w:t></w:r><w:r><w:rPr><w:color w:val="ED864A"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t xml:space="preserve">public void </w:t></w:r><w:r><w:rPr><w:color w:val="FFCF40"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>doSomething</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>(){</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t xml:space="preserve">     }</w:t></w:r><w:r><w:rPr><w:color w:val="EBEBEB"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:br/><w:t>}</w:t></w:r></w:p><w:p w:rsidR="003541D0" w:rsidRDefault="003541D0"/><w:sectPr w:rsidR="003541D0"><w:pgSz w:w="12240" w:h="15840"/><w:pgMar w:top="1440" w:right="1440" w:bottom="1440" w:left="1440" w:header="720" w:footer="720" w:gutter="0"/><w:cols w:space="720"/><w:docGrid w:linePitch="360"/></w:sectPr></w:body></w:document>